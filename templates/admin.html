{% extends "base.html" %}
{% block content %}

<div class="panel">
  <h2>Admin Panel</h2>

  <h3>Users</h3>
  <table style="width:100%; border-collapse:collapse;">
    <tr style="background:rgba(255,255,255,0.08);">
      <th style="padding:6px;">Username</th>
      <th style="padding:6px;">Plan</th>
      <th style="padding:6px;">Created</th>
      <th style="padding:6px;">Actions</th>
    </tr>

    {% for user in users %}
    <tr>
      <td style="padding:6px;">{{ user.username }}</td>
      <td style="padding:6px;">{{ user.plan }}</td>
      <td style="padding:6px;">{{ user.created }}</td>
      <td style="padding:6px;">
        <form method="post" action="{{ url_for('admin_upgrade') }}" style="display:inline;">
          <input type="hidden" name="username" value="{{ user.username }}">
          <button type="submit">Make Premium</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>

  <hr style="margin:20px 0; opacity:0.2;">

  <h3>Create Premium Code</h3>
  <form method="post" action="{{ url_for('admin_generate_code') }}">
    <button type="submit">Generate new code</button>
  </form>

  <h3 style="margin-top:20px;">Premium Codes</h3>
  <ul>
    {% for code in codes %}
      <li>{{ code }}</li>
    {% endfor %}
  </ul>

</div>

{% endblock %}
